---
layout: default
title: Developers
---
<section class="py-20 px-4 pt-32">
  <div class="max-w-6xl mx-auto">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-4">Adding a New Platform</h2>
    <p class="text-slate-400 text-center mb-12 max-w-2xl mx-auto">Agents report their capabilities to the Hub. Steam is optional — implement only what your platform supports.</p>

    <!-- Capabilities -->
    <div class="bg-slate-900 border border-slate-800 rounded-2xl p-6 mb-8">
      <h3 class="text-lg font-semibold mb-4">Agent Capabilities</h3>
      <p class="text-slate-400 mb-4">The Hub dynamically shows/hides UI based on what the Agent reports:</p>
      <div class="grid md:grid-cols-2 gap-4">
        <div class="bg-slate-950 rounded-xl p-4">
          <h4 class="text-sm font-semibold text-green-400 mb-2">File Capabilities (required)</h4>
          <div class="space-y-1 text-sm">
            <div class="flex items-center gap-2"><code class="text-slate-400">file_upload</code><span class="text-slate-500">— Receive game uploads</span></div>
            <div class="flex items-center gap-2"><code class="text-slate-400">file_list</code><span class="text-slate-500">— List installed games</span></div>
          </div>
        </div>
        <div class="bg-slate-950 rounded-xl p-4">
          <h4 class="text-sm font-semibold text-water-400 mb-2">Steam Capabilities (optional)</h4>
          <div class="space-y-1 text-sm">
            <div class="flex items-center gap-2"><code class="text-slate-400">steam_shortcuts</code><span class="text-slate-500">— Create/delete shortcuts</span></div>
            <div class="flex items-center gap-2"><code class="text-slate-400">steam_artwork</code><span class="text-slate-500">— Apply artwork</span></div>
            <div class="flex items-center gap-2"><code class="text-slate-400">steam_users</code><span class="text-slate-500">— List Steam users</span></div>
            <div class="flex items-center gap-2"><code class="text-slate-400">steam_restart</code><span class="text-slate-500">— Restart Steam</span></div>
          </div>
        </div>
        <div class="bg-slate-950 rounded-xl p-4">
          <h4 class="text-sm font-semibold text-emerald-400 mb-2">Monitoring Capabilities (optional)</h4>
          <div class="space-y-1 text-sm">
            <div class="flex items-center gap-2"><code class="text-slate-400">telemetry</code><span class="text-slate-500">— Hardware metrics streaming</span></div>
            <div class="flex items-center gap-2"><code class="text-slate-400">console_log</code><span class="text-slate-500">— Console log capture &amp; streaming</span></div>
            <div class="flex items-center gap-2"><code class="text-slate-400">game_log_wrapper</code><span class="text-slate-500">— Game stdout/stderr capture (Linux)</span></div>
          </div>
        </div>
      </div>
      <div class="mt-4 grid md:grid-cols-3 gap-3 text-xs">
        <div class="bg-green-500/10 border border-green-500/20 rounded-lg p-3 text-center">
          <span class="text-green-400 font-semibold">PC + Steam</span>
          <p class="text-slate-500 mt-1">All capabilities</p>
        </div>
        <div class="bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3 text-center">
          <span class="text-yellow-400 font-semibold">PC without Steam</span>
          <p class="text-slate-500 mt-1">file_upload, file_list</p>
        </div>
        <div class="bg-purple-500/10 border border-purple-500/20 rounded-lg p-3 text-center">
          <span class="text-purple-400 font-semibold">Android (future)</span>
          <p class="text-slate-500 mt-1">file_upload, file_list</p>
        </div>
      </div>
    </div>

    <!-- Platform Files -->
    <div class="bg-slate-900 border border-slate-800 rounded-2xl p-6 mb-8">
      <h3 class="text-lg font-semibold mb-4">Platform-Specific Files (if using Steam)</h3>
      <p class="text-slate-400 mb-4">Rust <code>cfg</code> attributes separate platform code. Only needed if your platform supports Steam:</p>
      <div class="grid md:grid-cols-2 gap-4">
        <div class="bg-slate-950 rounded-xl p-4">
          <code class="text-capy-400 text-sm">crates/steam/src/paths_*.rs</code>
          <p class="text-slate-500 text-xs mt-2">Steam directory detection</p>
        </div>
        <div class="bg-slate-950 rounded-xl p-4">
          <code class="text-water-400 text-sm">crates/steam/src/controller_*.rs</code>
          <p class="text-slate-500 text-xs mt-2">Start, stop, restart Steam</p>
        </div>
      </div>
    </div>

    <!-- Code Examples -->
    <div class="grid md:grid-cols-2 gap-8">
      <!-- Steam Paths -->
      <div class="bg-slate-900 border border-slate-800 rounded-2xl p-6">
        <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
          <span class="w-8 h-8 rounded-lg bg-capy-500/20 flex items-center justify-center text-capy-500 text-sm font-bold">1</span>
          Steam Paths
        </h3>
        <pre class="bg-slate-950 rounded-xl p-4 overflow-x-auto text-xs"><code class="text-slate-300"><span class="text-slate-500">// crates/steam/src/paths_darwin.rs</span>

<span class="text-purple-400">use</span> std::path::PathBuf;
<span class="text-purple-400">use</span> <span class="text-capy-400">crate</span>::SteamError;

<span class="text-purple-400">pub</span>(<span class="text-purple-400">crate</span>) <span class="text-purple-400">fn</span> <span class="text-water-400">get_base_dir</span>() -> <span class="text-capy-400">Result</span>&lt;PathBuf, SteamError&gt; {
    <span class="text-purple-400">let</span> home = std::env::var_os(<span class="text-green-400">"HOME"</span>)
        .map(PathBuf::from)
        .ok_or(SteamError::NotFound)?;
    <span class="text-purple-400">let</span> steam_dir = home
        .join(<span class="text-green-400">"Library"</span>)
        .join(<span class="text-green-400">"Application Support"</span>)
        .join(<span class="text-green-400">"Steam"</span>);
    Ok(steam_dir)
}</code></pre>
      </div>

      <!-- Steam Controller -->
      <div class="bg-slate-900 border border-slate-800 rounded-2xl p-6">
        <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
          <span class="w-8 h-8 rounded-lg bg-water-500/20 flex items-center justify-center text-water-500 text-sm font-bold">2</span>
          Steam Controller
        </h3>
        <pre class="bg-slate-950 rounded-xl p-4 overflow-x-auto text-xs"><code class="text-slate-300"><span class="text-slate-500">// crates/steam/src/controller_darwin.rs</span>

<span class="text-purple-400">pub async fn</span> <span class="text-water-400">is_running</span>() -> <span class="text-capy-400">bool</span> {
    <span class="text-purple-400">let</span> output = tokio::process::Command::new(<span class="text-green-400">"pgrep"</span>)
        .args([<span class="text-green-400">"-x"</span>, <span class="text-green-400">"steam"</span>])
        .output().<span class="text-purple-400">await</span>;
    output.map(|o| o.status.success()).unwrap_or(<span class="text-purple-400">false</span>)
}

<span class="text-purple-400">pub async fn</span> <span class="text-water-400">start</span>() -> <span class="text-capy-400">Result</span>&lt;(), SteamError&gt; {
    tokio::process::Command::new(<span class="text-green-400">"open"</span>)
        .args([<span class="text-green-400">"-a"</span>, <span class="text-green-400">"Steam"</span>])
        .spawn()
        .map_err(|e| SteamError::Controller(
            <span class="text-purple-400">format!</span>(<span class="text-green-400">"failed to start Steam: {e}"</span>)))?;
    Ok(())
}

<span class="text-purple-400">pub async fn</span> <span class="text-water-400">shutdown_command</span>() -> <span class="text-capy-400">Result</span>&lt;(), SteamError&gt; {
    tokio::process::Command::new(<span class="text-green-400">"osascript"</span>)
        .args([<span class="text-green-400">"-e"</span>, <span class="text-green-400">"quit app \"Steam\""</span>])
        .output().<span class="text-purple-400">await</span>
        .map_err(|e| SteamError::Controller(
            <span class="text-purple-400">format!</span>(<span class="text-green-400">"failed to shutdown Steam: {e}"</span>)))?;
    Ok(())
}</code></pre>
      </div>
    </div>

    <!-- Required Methods -->
    <div class="mt-8 bg-slate-900 border border-slate-800 rounded-2xl p-6">
      <h3 class="text-lg font-semibold mb-4">Required Controller Methods</h3>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm">
        <div class="flex items-center gap-3 p-3 bg-slate-950 rounded-lg">
          <code class="text-water-400">Start()</code>
          <span class="text-slate-500">Launch Steam</span>
        </div>
        <div class="flex items-center gap-3 p-3 bg-slate-950 rounded-lg">
          <code class="text-water-400">Shutdown()</code>
          <span class="text-slate-500">Graceful close</span>
        </div>
        <div class="flex items-center gap-3 p-3 bg-slate-950 rounded-lg">
          <code class="text-water-400">Restart()</code>
          <span class="text-slate-500">Full restart</span>
        </div>
        <div class="flex items-center gap-3 p-3 bg-slate-950 rounded-lg">
          <code class="text-water-400">IsRunning()</code>
          <span class="text-slate-500">Process check</span>
        </div>
        <div class="flex items-center gap-3 p-3 bg-slate-950 rounded-lg">
          <code class="text-water-400">IsGamingMode()</code>
          <span class="text-slate-500">Console mode</span>
        </div>
        <div class="flex items-center gap-3 p-3 bg-slate-950 rounded-lg">
          <code class="text-water-400">EnsureRunning()</code>
          <span class="text-slate-500">Start if needed</span>
        </div>
        <div class="flex items-center gap-3 p-3 bg-slate-950 rounded-lg">
          <code class="text-water-400">LaunchGame(appID)</code>
          <span class="text-slate-500">Launch via steam:// protocol</span>
        </div>
        <div class="flex items-center gap-3 p-3 bg-slate-950 rounded-lg">
          <code class="text-water-400">IsCEFAvailable()</code>
          <span class="text-slate-500">Check CEF debugger</span>
        </div>
        <div class="flex items-center gap-3 p-3 bg-slate-950 rounded-lg">
          <code class="text-water-400">WaitForCEF()</code>
          <span class="text-slate-500">Wait for CEF ready</span>
        </div>
      </div>
    </div>

    <!-- Checklist -->
    <div class="mt-8 bg-gradient-to-r from-capy-500/10 to-water-500/10 border border-capy-500/20 rounded-2xl p-6">
      <h3 class="text-lg font-semibold mb-4">Checklist (if adding Steam support)</h3>
      <div class="grid md:grid-cols-2 gap-3 text-sm">
        <div class="flex items-center gap-3 text-slate-300">
          <span class="w-2 h-2 rounded-full bg-capy-500"></span>
          <span><code>paths_&lt;platform&gt;.rs</code> - Steam directory</span>
        </div>
        <div class="flex items-center gap-3 text-slate-300">
          <span class="w-2 h-2 rounded-full bg-capy-500"></span>
          <span><code>controller_&lt;platform&gt;.rs</code> - Steam control</span>
        </div>
        <div class="flex items-center gap-3 text-slate-300">
          <span class="w-2 h-2 rounded-full bg-water-500"></span>
          <span>Test Steam detection works</span>
        </div>
        <div class="flex items-center gap-3 text-slate-300">
          <span class="w-2 h-2 rounded-full bg-water-500"></span>
          <span>Test shortcut creation works</span>
        </div>
        <div class="flex items-center gap-3 text-slate-300">
          <span class="w-2 h-2 rounded-full bg-purple-500"></span>
          <span>Update README.md</span>
        </div>
        <div class="flex items-center gap-3 text-slate-300">
          <span class="w-2 h-2 rounded-full bg-purple-500"></span>
          <span>Add to docs install section</span>
        </div>
      </div>
    </div>
  </div>
</section>
