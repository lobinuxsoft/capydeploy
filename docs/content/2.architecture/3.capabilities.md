---
title: Capabilities
description: How Agents report their features dynamically
icon: ph:star-duotone
---

# Capabilities System

:ellipsis{right=0px width=50% blur=100px}

Not all devices support all features. The **Capabilities** system lets Agents report what they can do dynamically.

::alert{type="success"}
**Dynamic Adaptation.** The Hub adapts its UI based on what the Agent reports. No hardcoded assumptions.
::

## Why Capabilities?

::card-grid
  ::card{icon=ph:android-logo-duotone}
  #title
  Android = No Steam
  #description
  An Android device can receive files but can't create Steam shortcuts. Hub needs to know this.
  ::

  ::card{icon=ph:linux-logo-duotone}
  #title
  Linux = Full Support
  #description
  Steam Deck, Bazzite, etc. Full Steam integration, shortcuts, artwork, everything.
  ::

  ::card{icon=ph:question-duotone}
  #title
  Future Platforms?
  #description
  New platforms just report their capabilities. No Hub changes needed.
  ::
::

## Available Capabilities

### File Capabilities
:badge[All Platforms]{type="success"}

::list{type="success"}
- `file_upload` — Can receive file uploads
- `file_list` — Can list installed files
::

### Steam Capabilities
:badge[Steam Platforms Only]{type="warning"}

::list{type="info"}
- `steam_shortcuts` — Create/delete Steam shortcuts
- `steam_artwork` — Apply custom artwork (grid, hero, logo, icon, banner)
- `steam_users` — List Steam users on the device
- `steam_restart` — Restart Steam client
::

## Platform Support Matrix

| Platform | File Upload | File List | Shortcuts | Artwork | Users | Restart |
|----------|:-----------:|:---------:|:---------:|:-------:|:-----:|:-------:|
| Windows | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| Linux | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| macOS | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| Android | ✅ | ✅ | ❌ | ❌ | ❌ | ❌ |

## How It Works

::steps
### Agent Detects Features

On startup, the Agent checks what's available on the system.

```go
func detectCapabilities() []protocol.Capability {
    caps := []protocol.Capability{
        protocol.CapFileUpload,
        protocol.CapFileList,
    }

    if steam.IsAvailable() {
        caps = append(caps,
            protocol.CapSteamShortcuts,
            protocol.CapSteamArtwork,
            protocol.CapSteamUsers,
            protocol.CapSteamRestart,
        )
    }

    return caps
}
```

### Agent Reports via WebSocket

When Hub connects and requests info (`get_info` message), Agent responds with capabilities.

```json
{
  "type": "info_response",
  "payload": {
    "agent": {
      "id": "agent-abc123",
      "name": "Steam Deck",
      "platform": "linux",
      "capabilities": ["file_upload", "file_list", "steam_shortcuts", "steam_artwork"]
    }
  }
}
```

### Hub Adapts UI

Hub shows/hides features based on capabilities.

```svelte
{#if agent?.capabilities?.includes('steam_shortcuts')}
  <ShortcutPanel />
{/if}

{#if !agent?.capabilities?.includes('steam_artwork')}
  <Alert type="warning">
    Artwork not available on this device
  </Alert>
{/if}
```
::

::alert{type="danger"}
**Never Assume.** The Hub should never assume capabilities. Always check before showing UI or making requests that require specific features.
::

## Image Format Support

Agents also report supported image formats for artwork:

```json
{
  "supportedImageFormats": ["png", "jpg", "webp", "gif"]
}
```

| Platform | Static Formats | Animated |
|----------|----------------|----------|
| Windows | PNG, JPG, WebP | WebP, GIF |
| Linux | PNG, JPG, WebP | WebP, GIF |
| macOS | PNG, JPG, WebP | WebP, GIF |
| Android | PNG, JPG | None |

## Adding New Capabilities

::steps
### Define in Protocol

```go
// pkg/protocol/capabilities.go
const (
    CapNewFeature Capability = "new_feature"
)
```

### Report from Agent

```go
if newFeatureAvailable() {
    caps = append(caps, protocol.CapNewFeature)
}
```

### Handle in Hub

```svelte
{#if agent?.capabilities?.includes('new_feature')}
  <NewFeatureUI />
{/if}
```
::

::card{icon=ph:plus-circle-duotone}
#title
[Adding a Platform →](/advanced/adding-platform)
#description
Want to add support for a new platform? See the full guide.
::
